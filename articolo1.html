<h2>Analisi delle Vendite e Previsioni con Python<br></h2>

<h3>Panoramica</h3>
<p>
In questo progetto ho condotto un'analisi approfondita sulle vendite di un superstore (dataset disponibile su 
<a href="https://www.kaggle.com/datasets/rohitsahoo/sales-forecasting" target="_blank">Kaggle</a>).
Ho combinato tecniche di analisi esplorativa dei dati (EDA) per catturare eventuali pattern tra la clientela e 
modelli predittivi di time series forecasting per modellare l'andamento delle vendite nel tempo e fare previsioni
su trend e stagionalità.
</p>

<h3>Analisi Esplorativa</h3>

<h4>Segmentazione e Comportamento dei Clienti</h4>
<p>Ho iniziato individuandoo la categoria di prodotti che ha generato piu ricavi, ovvero il comparto tecnologia, sebbene rimanga
  un certo equilibrio tra le categorie. La categoria Ufficio è quella che invece genera piu ordini e traffico, molto al di sopra delle altre.
  Già questo è un punto interessante per la gestione dei materiali.

  Per le sotto-categorie otteniamo questo risultato:</p>

<table>
  <thead>
    <tr>
      <th>Sub-Category</th>
      <th>Sales</th>
      <th>N_sales</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>Binders</td><td>134.067550</td><td>1492</td></tr>
    <tr><td>Paper</td><td>57.420257</td><td>1338</td></tr>
    <tr><td>Furnishings</td><td>95.823865</td><td>931</td></tr>
    <tr><td>Phones</td><td>374.180877</td><td>876</td></tr>
    <tr><td>Storage</td><td>263.633885</td><td>832</td></tr>
    <tr><td>Art</td><td>34.019631</td><td>785</td></tr>
    <tr><td>Accessories</td><td>217.178175</td><td>756</td></tr>
    <tr><td>Chairs</td><td>531.833165</td><td>607</td></tr>
    <tr><td>Appliances</td><td>227.926804</td><td>459</td></tr>
    <tr><td>Labels</td><td>34.587468</td><td>357</td></tr>
    <tr><td>Tables</td><td>645.893720</td><td>314</td></tr>
    <tr><td>Envelopes</td><td>65.032444</td><td>248</td></tr>
    <tr><td>Bookcases</td><td>503.598224</td><td>226</td></tr>
    <tr><td>Fasteners</td><td>14.027850</td><td>214</td></tr>
    <tr><td>Supplies</td><td>252.284283</td><td>184</td></tr>
    <tr><td>Machines</td><td>1645.553313</td><td>115</td></tr>
    <tr><td>Copiers</td><td>2215.880212</td><td>66</td></tr>
  </tbody>
</table>

<p>
Con raccoglitori il prodotto piu ordinato seguito dalla carta, come suggerito dalla categoria di appartenenza. Le Stampanti e altri
oggetti simili invece sono quelli che generano più ricavi pur essendo tra i prodotti meno ordinati.
  
Segmentando la clientela, continuiamo a trovare la categoria ufficio come la più frequente e lo stesso per i metodi di spedizione utilizzati:

             standard  first  second  sameday
Segment                                      
Consumer        59.42  14.80   19.66     6.12
Corporate       60.35  15.85   19.95     3.86
Home Office     59.91  15.92   17.75     6.41

Facendo un test ANOVA sulle vendite distinte per segmento controlliamo se in media ci sono differenze.

H0 ipotesi nulla -> le medie sono uguali
H1 ipotesi test -> le medie sono differenti
  
l'output è:
ANOVA tra segmenti: F=0.59, p=0.5558
p risulta ben superiore il limite s di 0.05 quindi non risultano differenze statisticamente significative.
  
</p>

  <!--  grafico -->
<img src="articolo1_img/sales_to_category.png" alt="Revenue" width="500">
<img src="articolo1_img/num_sales.png" alt="Num Sales" width="500">
  
<!-- Esempio snippet di codice -->
<pre><code><span class="comment"># Caricamento e analisi dei dati</span>
  
import pandas as pd

df = pd.read_csv("sales_data.csv")
df.groupby('Category')['Sales'].sum().sort_values(ascending=False)</code></pre>

<h4>Analisi dei Top Clienti</h4>
<p>Ho identificato e analizzato i clienti "premium" (con vendite superiori a $10,000), rivelando un interessante pattern: alcuni dei maggiori contributori al fatturato (in particolare SM-20320 e TC-20980) hanno raggiunto questi volumi principalmente attraverso ordini una tantum di grande entità, piuttosto che attraverso acquisti regolari.</p>

<!-- Spazio per grafico -->
<img src="img/top_clients.png" alt="Top Clienti" width="500">

<h4>Pattern di Spedizione</h4>
<p>L'analisi delle modalità di spedizione ha evidenziato una distribuzione sorprendentemente uniforme tra i diversi segmenti di clientela, con solo lievi variazioni. In particolare, il segmento Corporate mostra una minore propensione all'utilizzo del servizio Same Day, suggerendo possibili opportunità di ottimizzazione del servizio.</p>

<!-- Spazio per grafico -->
<img src="img/shipping_patterns.png" alt="Pattern di Spedizione" width="500">

<h3>Analisi Statistica</h3>
<p>Ho condotto test statistici rigorosi per validare le differenze osservate:</p>
<ul>
  <li>Test ANOVA sui segmenti di clientela per valutare la significatività delle differenze nelle vendite</li>
  <li>T-test specifici tra regioni (es. West vs East) per identificare variazioni geografiche significative</li>
</ul>

<!-- Esempio snippet di codice -->
<pre><code>from scipy.stats import f_oneway, ttest_ind

anova_result = f_oneway(df[df['Segment']=='Consumer']['Sales'],
                        df[df['Segment']=='Corporate']['Sales'],
                        df[df['Segment']=='Home Office']['Sales'])
anova_result</code></pre>

<h3>Forecasting Avanzato</h3>

<h4>Approccio Multi-Modello</h4>
<p>Ho implementato un sistema di previsione sofisticato utilizzando tre diversi modelli statistici:</p>
<ul>
  <li>SARIMAX (Seasonal ARIMA with Exogenous variables)</li>
  <li>ETS (Error, Trend, Seasonality)</li>
  <li>Prophet (sviluppato da Facebook/Meta)</li>
</ul>
<p>Questo approccio multi-modello permette di:</p>
<ul>
  <li>Catturare diverse componenti della serie temporale</li>
  <li>Fornire previsioni robuste considerando diversi aspetti del pattern di vendita</li>
  <li>Offrire intervalli di confidenza per una migliore gestione del rischio</li>
</ul>

<!-- Spazio per grafico -->
<img src="img/forecast_models.png" alt="Previsioni Multi-Modello" width="500">

<h4>Validazione del Modello</h4>
<p>Ho utilizzato un orizzonte di previsione di 12 mesi, implementando:</p>
<ul>
  <li>Metriche di valutazione multiple (MAE, RMSE, MAPE)</li>
  <li>Validazione su dati di test</li>
  <li>Visualizzazione degli intervalli di confidenza per la valutazione dell'incertezza</li>
</ul>

<!-- Esempio snippet di codice -->
<pre><code># Visualizzazione intervalli di confidenza
import matplotlib.pyplot as plt

plt.figure(figsize=(10,5))
plt.plot(df['Date'], df['Sales'], label='Vendite reali')
plt.plot(forecast.index, forecast['yhat'], label='Previsioni')
plt.fill_between(forecast.index, forecast['yhat_lower'], forecast['yhat_upper'], color='gray', alpha=0.3)
plt.legend()
plt.show()</code></pre>

<h3>Conclusioni</h3>
<p>L'analisi ha fornito insights actionable per l'ottimizzazione delle strategie di vendita e ha dimostrato l'efficacia di un approccio data-driven nel prevedere i trend futuri. L'utilizzo di tecniche statistiche avanzate combinate con una solida analisi esplorativa ha permesso di costruire un quadro completo e affidabile del business.</p>
