n<head>
<link rel="stylesheet" href="style.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<h2>Femminicidi in Europa: analisi e modelli<br></h2>

<h3>Panoramica</h3>


<p>
PREMESSE<br>
- dati storici poco presenti per operazioni di panelling storici. Perciò useremo dati 2022 e sfrutteremo questa cosa per
  recuperare dati raccolti una tantum da sondaggi altrimenti non sfruttabili per serie storiche.<br>
-natura di femminicidio diversa da paese in paese, usiamo proxy omicidio di donna da familiare o partner intimo fornito da Eurostat, dato che
comunque approssima bene il fenomeno (la maggior parte dei femminicidi avviene da conoscenti)<br><br>

DATI e FONTI:<br><br>
Come detto i dati sono per l'anno 2022 tranne per i dati da sondaggi saltuari e sono raccolti da 24 paesi.<br><br>

<img src="img/barplot.png width="600" height="350">

Le variabili scelte per questa analisi sono:<br><br>

-Tasso omicidi di donne nazionali da parte di familiari o partner per 100k abitanti (Eurostat - completato con dati per bulgaria - belgio - denmark - Estonia da WAVE Country Report 2023)<br>
-Occupazione femminile(Eurostat)<br>
-Tasso di donne con almeno una violenza subita in età adulta (Eurostat)<br>
-tasso di divorzi (Eurostat)<br>
-Pay gap non adjusted (Eurostat) -> importante proxy di discriminazione sia salariale che di contratto<br>
-% donne con educazione almeno terziaria(Eurostat)<br>
-% donne a rischio povertà o esclusione sociale (Eurostat)<br>
- % donne con violenza economica subita dal FRA survey 2012<br>


-indicatori POWER(position among istitutions and company) , 
SEGREGATION (difference in education field) , 
TIME (care activities,cooking,social activities) da Gender equality index disponibile pubblicamente e sono degli indicidi di voto della disuguaglianza,
  quindi voto alto significa meno disuguaglianza in quel campo sepcifico. <br>
- SHAMELESS e USELESS sono le percentuali di donne nel sondaggio FRA survey 2012: reason to not contacted services after violence, economic violence during life.
  Sebbene siano dati vecchi sono gli unici realmente disponibili che riescano a rispondere a domande così delicate a livello informale e può essere un ottima proxy
  per descrivere i casi di mancata denuncia, una delle cause più importanti a livello europeo a causare difficoltà di rilevamento.<br><br>

-protection index:  dati presi dati da Wave country report 2023 su: numero aiuto nazionale, chiamate ricevute,
n shelter, letti, n woman centers, presenza supporto violenza e piano prevenzione.
#Trasformati in dummy (per presenza/assenza) o rapportati alla popolazione per quelle numeriche.
Dati Poi normalizzati e calcolata la media semplice senza ponderazione per creare un indice di valutazione.
</p>

<a href="https://github.com/chiquadro841/digit_recognition" target="_blank">Link al repo</a>

<h3> FEATURE SELECTION</h3>

<p> Per scegliere le variabili più informative abbiamo effettuato un doppio test:<br>
  - Coefficiente correlazione lineare<br>
  - Clustering con K-means<br><br>

  La potenza di questi metodi incrociati è che permette di capire a fondo la natura del fenomeno e dei dati: se è possible
  adottare modelli e ragionamenti lineari o se occorre prendere la strada della multiplicità del fenomeno, fatto di relazioni non lineari
  profili diversi e interazioni tra variabili.<br><br>

Tramite una matrice di correlazione otteniamo i seguenti dati verso il livello di femminicidi:<br>
  
FEMINICIDE_100k                     1.000000  <br>  
power                              -0.146734   <br> 
segregation                        -0.497518 <br> 
time                               -0.214998    <br> 
shame                               0.333514  <br>  
useless                             0.415010 <br> 
economic_violence                   0.266780  <br> 
PAY_GAP                             0.255228 <br>   
DIVORCE_RATE                        0.416077  <br> 
FEMALE_EMPLOYMENT                   0.140595  <br> 
%_FEM_TER_EDU                       0.060473   <br>   
VIOLENCE                            0.053978  <br>    
%_AT_RISK_POVERTY_EXCLUSION         0.281343 <br>  
protection_index                   -0.647621<br> <br> 

Le variabili meno informative in modo lineare sono FEMALE_EMPLOYMENT e VIOLENCE<br>
<br>
Provando a usare un k-means per dividere i dati in due cluster otteniamo una cosa più interessante.
Il modello basato su distanze riesce a catturare meglio la natura dei dati, ottenendo due cluster con differenza notevole
  nei femminicidi medi tra i due gruppi. Infatti abbiamo:<br><br>

    cluster<br>
0    0.684583<br>
1    0.371250<br><br>


  </p>
<h4>Heatmap delle feature per cluster</h4>
<img src="img/clustering_all_features.png" width="650" height="450">

<hr>

<h3>MODELLAZIONE</h3>

<p>
Iniziamo testando un modello lineare e vedere come si comportano le variabili. Per questo modello toglieremo le due variabili
meno significative statisticamente, VIOLENCE, DIVORCE_RATE e %_FEM_TER_EDU (vedere sopra) e dopo aver accertato che non 
  ci sono problemi di multicollinearità proviamo la regressione.<br><br>

Il risultato è mediocre perchè abbiamo un modello buono e significativo:<br><br>
  
REGRESSIONE LINEARE  R2 0.765  P(F)= 0.00879<br><br>

ma in realtà la maggior parte dei coefficienti del modello risultano poco significativi (P value> 0.05> eccetto per
la variabile piu importante protection index che comunque da sola non riesce certo a spiegare il fenomeno.<br>
Ora sappiamo che statisticamente le variabili insieme hanno un potere predittivo il modello 
ma non possiamo dire che ogni variabile, da sola, contribuisca in modo netto.<br>
  
</p>


<h4> MODELLO LOO RANDOM FOREST basato su 2 cluster (standard 4 max depth, 300 estimators)</h4>
<p> 
Osservando le feature nei due cluster sopra, troviamo che quelle meno decisive risultano
  'FEMALE_EMPLOYMENT','DIVORCE_RATE','economic_violence', 'VIOLENCE', cosi le scartiamo.<br>
  Otteniamo cosi un modello che riesce perfettamente a riconoscere i cluster con i seguenti risultati:<br>
</p>
  

<p>LOOCV Accuracy: 1.0<br>
Confusion Matrix:<br>
 [[12  0]<br>
 [ 0 12]]<br>
Precision classe 0: 1.0<br>
Recall classe 0: 1.0<br>
shame                          0.323606<br>
useless                        0.243716<br>
power                          0.120110<br>
protection_index               0.067677<br>
PAY_GAP                        0.062569<br>
%_FEM_TER_EDU                  0.051656<br>
time                           0.051107<br>
%_AT_RISK_POVERTY_EXCLUSION    0.040788<br>
segregation                    0.038772<br><br>

A livello grafico i cluster trovati riescono a distinguere abbastanza bene i paesi più a rischio come da grafico sotto,
anche se emergono eccezioni difficilmente catturabili in entrambi i sensi:<br>
  -ci sono paesi come la finlandia o malta che hanno indicatori sociali molto buoni ma manifestano femminicidi sopra la media.<br>
  -ci sono paesi come slovacchia e bulgaria che hanno indicatori sociali peggiori della media ma hanno casi di femminicidio nella media
  o come nel caso della slovenia persino minori di tutti i paesi considerati. Cambiando il numero di cluster questa differenza non cambia
  e bisogna trattarli come tali, casi eccezionali non spiegabili attraverso classici indicatori sociali.
<img src="img/barplot_cluster2.png" width="600" height="350">

</p>
